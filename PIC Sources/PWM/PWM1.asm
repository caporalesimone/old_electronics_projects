;  ASM code generated by mikroVirtualMachine for PIC - V. 6.2.1.0
;  Date/Time: 02/07/2007 18.42.36
;  Info: http://www.mikroelektronika.co.yu


; ADDRESS	OPCODE	ASM
; ----------------------------------------------
$0000	$2915			GOTO	_main
$0004	$	_PWM1_Init:
$0004	$1303			BCF	STATUS, RP1
$0005	$1283			BCF	STATUS, RP0
$0006	$0195			CLRF	CCPR1L, 1
$0007	$1217			BCF	CCP1CON, 4
$0008	$1297			BCF	CCP1CON, 5
$0009	$0008			RETURN
$000A	$	_PWM2_Init:
$000A	$1303			BCF	STATUS, RP1
$000B	$1283			BCF	STATUS, RP0
$000C	$019B			CLRF	CCPR2L, 1
$000D	$121D			BCF	CCP2CON, 4
$000E	$129D			BCF	CCP2CON, 5
$000F	$0008			RETURN
$0010	$	_Mul_16x16_S:
$0010	$1303			BCF	STATUS, RP1
$0011	$1283			BCF	STATUS, RP0
$0012	$01FB			CLRF	STACK_11
$0013	$01FA			CLRF	STACK_10
$0014	$01F9			CLRF	STACK_9
$0015	$3080			MOVLW	128
$0016	$00F8			MOVWF	STACK_8
$0017	$01FD			CLRF	STACK_13
$0018	$1FF1			BTFSS	STACK_1, 7
$0019	$2820			GOTO	$+7
$001A	$09F1			COMF	STACK_1, F
$001B	$09F0			COMF	STACK_0, F
$001C	$0AF0			INCF	STACK_0, F
$001D	$1903			BTFSC	STATUS, Z
$001E	$0AF1			INCF	STACK_1, F
$001F	$0AFD			INCF	STACK_13, F
$0020	$1FF5			BTFSS	STACK_5, 7
$0021	$2828			GOTO	$+7
$0022	$09F5			COMF	STACK_5, F
$0023	$09F4			COMF	STACK_4, F
$0024	$0AF4			INCF	STACK_4, F
$0025	$1903			BTFSC	STATUS, Z
$0026	$0AF5			INCF	STACK_5, F
$0027	$0AFD			INCF	STACK_13, F
$0028	$0CF1			RRF	STACK_1, F
$0029	$0CF0			RRF	STACK_0, F
$002A	$1C03			BTFSS	STATUS, C
$002B	$2835			GOTO	$+10
$002C	$0874			MOVF	STACK_4, W
$002D	$07F9			ADDWF	STACK_9, F
$002E	$0875			MOVF	STACK_5, W
$002F	$1803			BTFSC	STATUS, C
$0030	$0F75			INCFSZ	STACK_5, W
$0031	$07FA			ADDWF	STACK_10, F
$0032	$1803			BTFSC	STATUS, C
$0033	$0AFB			INCF	STACK_11, F
$0034	$1003			BCF	STATUS, C
$0035	$1FF0			BTFSS	STACK_0, 7
$0036	$283D			GOTO	$+7
$0037	$0874			MOVF	STACK_4, W
$0038	$07FA			ADDWF	STACK_10, F
$0039	$1803			BTFSC	STATUS, C
$003A	$0AFB			INCF	STACK_11, F
$003B	$0875			MOVF	STACK_5, W
$003C	$07FB			ADDWF	STACK_11, F
$003D	$0CFB			RRF	STACK_11, F
$003E	$0CFA			RRF	STACK_10, F
$003F	$0CF9			RRF	STACK_9, F
$0040	$0CF8			RRF	STACK_8, F
$0041	$1C03			BTFSS	STATUS, C
$0042	$2828			GOTO	$-26
$0043	$1C7D			BTFSS	STACK_13, 0
$0044	$2850			GOTO	$+12
$0045	$09FB			COMF	STACK_11, F
$0046	$09FA			COMF	STACK_10, F
$0047	$09F9			COMF	STACK_9, F
$0048	$09F8			COMF	STACK_8, F
$0049	$0AF8			INCF	STACK_8, F
$004A	$1903			BTFSC	STATUS, Z
$004B	$0AF9			INCF	STACK_9, F
$004C	$1903			BTFSC	STATUS, Z
$004D	$0AFA			INCF	STACK_10, F
$004E	$1903			BTFSC	STATUS, Z
$004F	$0AFB			INCF	STACK_11, F
$0050	$087B			MOVF	STACK_11, W
$0051	$00F3			MOVWF	STACK_3
$0052	$087A			MOVF	STACK_10, W
$0053	$00F2			MOVWF	STACK_2
$0054	$0879			MOVF	STACK_9, W
$0055	$00F1			MOVWF	STACK_1
$0056	$0878			MOVF	STACK_8, W
$0057	$00F0			MOVWF	STACK_0
$0058	$0000			NOP
$0059	$0008			RETURN
$005A	$	_InitMain:
;PWM1.c,2 :: 		void InitMain() {
;PWM1.c,3 :: 		PORTB = 0;                     // set PORTB to 0
$005A	$1303			BCF	STATUS, RP1
$005B	$1283			BCF	STATUS, RP0
$005C	$0186			CLRF	PORTB, 1
;PWM1.c,4 :: 		TRISB = 0;                     // designate portb pins as output
$005D	$1683			BSF	STATUS, RP0
$005E	$0186			CLRF	TRISB, 1
;PWM1.c,6 :: 		ADCON1 = 0x80;  // Configure analog inputs and Vref
$005F	$3080			MOVLW	128
$0060	$009F			MOVWF	ADCON1
;PWM1.c,7 :: 		TRISA  = 0xFF;  // PORTA is input
$0061	$30FF			MOVLW	255
$0062	$0085			MOVWF	TRISA
;PWM1.c,9 :: 		PORTC = 0x0;                   // set PORTC to $FF
$0063	$1283			BCF	STATUS, RP0
$0064	$0187			CLRF	PORTC, 1
;PWM1.c,10 :: 		TRISC = 0;                     // designate PORTC pins as output
$0065	$1683			BSF	STATUS, RP0
$0066	$0187			CLRF	TRISC, 1
;PWM1.c,11 :: 		PWM1_Init(20000);                // initialize PWM1 module
$0067	$30F9			MOVLW	249
$0068	$0092			MOVWF	PR2
$0069	$2004			CALL	_PWM1_Init
;PWM1.c,12 :: 		PWM2_Init(20000);                // initialize PWM1 module                                                           PWM1_Init(5000);                // initialize PWM1 module
$006A	$30F9			MOVLW	249
$006B	$1683			BSF	STATUS, RP0
$006C	$0092			MOVWF	PR2
$006D	$200A			CALL	_PWM2_Init
;PWM1.c,13 :: 		}
$006E	$0008			RETURN
$006F	$	_PWM1_Start:
$006F	$1303			BCF	STATUS, RP1
$0070	$1683			BSF	STATUS, RP0
$0071	$1107			BCF	TRISC, 2
$0072	$1283			BCF	STATUS, RP0
$0073	$1512			BSF	T2CON, 2
$0074	$300C			MOVLW	12
$0075	$0497			IORWF	CCP1CON, 1
$0076	$0008			RETURN
$0077	$	_PWM1_Change_Duty:
$0077	$1303			BCF	STATUS, RP1
$0078	$1683			BSF	STATUS, RP0
$0079	$0812			MOVF	PR2, 0
$007A	$3F01			ADDLW	1
$007B	$00F0			MOVWF	STACK_0
$007C	$01F1			CLRF	STACK_0+1
$007D	$1803			BTFSC	STATUS, C
$007E	$0AF1			INCF	STACK_0+1, 1
$007F	$1283			BCF	STATUS, RP0
$0080	$0824			MOVF	FARG_PWM1_Change_Duty+0, 0
$0081	$00F4			MOVWF	STACK_4
$0082	$01F5			CLRF	STACK_4+1
$0083	$2010			CALL	_mul_16x16_s
$0084	$3006			MOVLW	6
$0085	$00F2			MOVWF	STACK_2
$0086	$0870			MOVF	STACK_0, 0
$0087	$00F4			MOVWF	STACK_4
$0088	$0871			MOVF	STACK_0+1, 0
$0089	$00F5			MOVWF	STACK_4+1
$008A	$0872			MOVF	STACK_2, 0
$008B	$	L_PWM1_Change_Duty_2:
$008B	$1903			BTFSC	STATUS, Z
$008C	$2892			GOTO	L_PWM1_Change_Duty_3
$008D	$0CF5			RRF	STACK_4+1, 1
$008E	$0CF4			RRF	STACK_4, 1
$008F	$13F5			BCF	STACK_4+1, 7
$0090	$3FFF			ADDLW	255
$0091	$288B			GOTO	L_PWM1_Change_Duty_2
$0092	$	L_PWM1_Change_Duty_3:
$0092	$0874			MOVF	STACK_4, 0
$0093	$00F0			MOVWF	STACK_0
$0094	$0DF0			RLF	STACK_0, 1
$0095	$1070			BCF	STACK_0, 0
$0096	$0DF0			RLF	STACK_0, 1
$0097	$1070			BCF	STACK_0, 0
$0098	$0DF0			RLF	STACK_0, 1
$0099	$1070			BCF	STACK_0, 0
$009A	$0DF0			RLF	STACK_0, 1
$009B	$1070			BCF	STACK_0, 0
$009C	$3030			MOVLW	48
$009D	$0570			ANDWF	STACK_0, 0
$009E	$00F3			MOVWF	STACK_3
$009F	$0874			MOVF	STACK_4, 0
$00A0	$00F0			MOVWF	STACK_0
$00A1	$0875			MOVF	STACK_4+1, 0
$00A2	$00F1			MOVWF	STACK_0+1
$00A3	$0CF1			RRF	STACK_0+1, 1
$00A4	$0CF0			RRF	STACK_0, 1
$00A5	$13F1			BCF	STACK_0+1, 7
$00A6	$0CF1			RRF	STACK_0+1, 1
$00A7	$0CF0			RRF	STACK_0, 1
$00A8	$13F1			BCF	STACK_0+1, 7
$00A9	$0870			MOVF	STACK_0, 0
$00AA	$0095			MOVWF	CCPR1L
$00AB	$300F			MOVLW	15
$00AC	$0597			ANDWF	CCP1CON, 1
$00AD	$0873			MOVF	STACK_3, 0
$00AE	$0497			IORWF	CCP1CON, 1
$00AF	$0008			RETURN
$00B0	$	_PWM2_Start:
$00B0	$1303			BCF	STATUS, RP1
$00B1	$1683			BSF	STATUS, RP0
$00B2	$1087			BCF	TRISC, 1
$00B3	$1283			BCF	STATUS, RP0
$00B4	$1512			BSF	T2CON, 2
$00B5	$300C			MOVLW	12
$00B6	$049D			IORWF	CCP2CON, 1
$00B7	$0008			RETURN
$00B8	$	_PWM2_Change_Duty:
$00B8	$1303			BCF	STATUS, RP1
$00B9	$1683			BSF	STATUS, RP0
$00BA	$0812			MOVF	PR2, 0
$00BB	$3F01			ADDLW	1
$00BC	$00F0			MOVWF	STACK_0
$00BD	$01F1			CLRF	STACK_0+1
$00BE	$1803			BTFSC	STATUS, C
$00BF	$0AF1			INCF	STACK_0+1, 1
$00C0	$1283			BCF	STATUS, RP0
$00C1	$0824			MOVF	FARG_PWM2_Change_Duty+0, 0
$00C2	$00F4			MOVWF	STACK_4
$00C3	$01F5			CLRF	STACK_4+1
$00C4	$2010			CALL	_mul_16x16_s
$00C5	$3006			MOVLW	6
$00C6	$00F2			MOVWF	STACK_2
$00C7	$0870			MOVF	STACK_0, 0
$00C8	$00F4			MOVWF	STACK_4
$00C9	$0871			MOVF	STACK_0+1, 0
$00CA	$00F5			MOVWF	STACK_4+1
$00CB	$0872			MOVF	STACK_2, 0
$00CC	$	L_PWM2_Change_Duty_0:
$00CC	$1903			BTFSC	STATUS, Z
$00CD	$28D3			GOTO	L_PWM2_Change_Duty_1
$00CE	$0CF5			RRF	STACK_4+1, 1
$00CF	$0CF4			RRF	STACK_4, 1
$00D0	$13F5			BCF	STACK_4+1, 7
$00D1	$3FFF			ADDLW	255
$00D2	$28CC			GOTO	L_PWM2_Change_Duty_0
$00D3	$	L_PWM2_Change_Duty_1:
$00D3	$0874			MOVF	STACK_4, 0
$00D4	$00F0			MOVWF	STACK_0
$00D5	$0DF0			RLF	STACK_0, 1
$00D6	$1070			BCF	STACK_0, 0
$00D7	$0DF0			RLF	STACK_0, 1
$00D8	$1070			BCF	STACK_0, 0
$00D9	$0DF0			RLF	STACK_0, 1
$00DA	$1070			BCF	STACK_0, 0
$00DB	$0DF0			RLF	STACK_0, 1
$00DC	$1070			BCF	STACK_0, 0
$00DD	$3030			MOVLW	48
$00DE	$0570			ANDWF	STACK_0, 0
$00DF	$00F3			MOVWF	STACK_3
$00E0	$0874			MOVF	STACK_4, 0
$00E1	$00F0			MOVWF	STACK_0
$00E2	$0875			MOVF	STACK_4+1, 0
$00E3	$00F1			MOVWF	STACK_0+1
$00E4	$0CF1			RRF	STACK_0+1, 1
$00E5	$0CF0			RRF	STACK_0, 1
$00E6	$13F1			BCF	STACK_0+1, 7
$00E7	$0CF1			RRF	STACK_0+1, 1
$00E8	$0CF0			RRF	STACK_0, 1
$00E9	$13F1			BCF	STACK_0+1, 7
$00EA	$0870			MOVF	STACK_0, 0
$00EB	$009B			MOVWF	CCPR2L
$00EC	$300F			MOVLW	15
$00ED	$059D			ANDWF	CCP2CON, 1
$00EE	$0873			MOVF	STACK_3, 0
$00EF	$049D			IORWF	CCP2CON, 1
$00F0	$0008			RETURN
$00F1	$	_Usart_Data_Ready:
$00F1	$3000			MOVLW	0
$00F2	$1303			BCF	STATUS, RP1
$00F3	$1283			BCF	STATUS, RP0
$00F4	$1A8C			BTFSC	PIR1, 5
$00F5	$3001			MOVLW	1
$00F6	$00F1			MOVWF	STACK_1
$00F7	$0871			MOVF	STACK_1, 0
$00F8	$00F0			MOVWF	STACK_0
$00F9	$0008			RETURN
$00FA	$	_Usart_Read:
$00FA	$1303			BCF	STATUS, RP1
$00FB	$1283			BCF	STATUS, RP0
$00FC	$081A			MOVF	RCREG, 0
$00FD	$00A4			MOVWF	Usart_Read_tmp_L0
$00FE	$1C98			BTFSS	RCSTA, 1
$00FF	$2902			GOTO	L_Usart_Read_2
$0100	$1218			BCF	RCSTA, 4
$0101	$1618			BSF	RCSTA, 4
$0102	$	L_Usart_Read_2:
$0102	$0824			MOVF	Usart_Read_tmp_L0, 0
$0103	$00F0			MOVWF	STACK_0
$0104	$0008			RETURN
$0105	$	_Usart_Init:
$0105	$1303			BCF	STATUS, RP1
$0106	$1683			BSF	STATUS, RP0
$0107	$1698			BSF	TXSTA, 5
$0108	$3090			MOVLW	144
$0109	$1283			BCF	STATUS, RP0
$010A	$0098			MOVWF	RCSTA
$010B	$1683			BSF	STATUS, RP0
$010C	$1787			BSF	TRISC, 7
$010D	$1307			BCF	TRISC, 6
$010E	$	L_Usart_Init_0:
$010E	$1283			BCF	STATUS, RP0
$010F	$1E8C			BTFSS	PIR1, 5
$0110	$2914			GOTO	L_Usart_Init_1
$0111	$081A			MOVF	RCREG, 0
$0112	$00A8			MOVWF	Usart_Init_tmp_L0
$0113	$290E			GOTO	L_Usart_Init_0
$0114	$	L_Usart_Init_1:
$0114	$0008			RETURN
$0115	$	_main:
;PWM1.c,15 :: 		void main() {
;PWM1.c,18 :: 		initMain();
$0115	$205A			CALL	_InitMain
;PWM1.c,21 :: 		PWM1_Start();                   // start PWM1
$0116	$206F			CALL	_PWM1_Start
;PWM1.c,22 :: 		PWM1_Change_Duty(127);        //    set new duty ratio,
$0117	$307F			MOVLW	127
$0118	$00A4			MOVWF	FARG_PWM1_Change_Duty+0
$0119	$2077			CALL	_PWM1_Change_Duty
;PWM1.c,23 :: 		PWM2_Start();
$011A	$20B0			CALL	_PWM2_Start
;PWM1.c,24 :: 		PWM2_Change_Duty(127);        //    set new duty ratio,
$011B	$307F			MOVLW	127
$011C	$00A4			MOVWF	FARG_PWM2_Change_Duty+0
$011D	$20B8			CALL	_PWM2_Change_Duty
;PWM1.c,36 :: 		Usart_Init(9600);
$011E	$3081			MOVLW	129
$011F	$1683			BSF	STATUS, RP0
$0120	$0099			MOVWF	SPBRG
$0121	$1518			BSF	TXSTA, BRGH
$0122	$2105			CALL	_Usart_Init
;PWM1.c,38 :: 		while (1) {
$0123	$	L_main_0:
;PWM1.c,40 :: 		while (Usart_Data_Ready()==0) {}
$0123	$	L_main_2:
$0123	$20F1			CALL	_Usart_Data_Ready
$0124	$0870			MOVF	STACK_0, 0
$0125	$3A00			XORLW	0
$0126	$1903			BTFSC	STATUS, Z
$0127	$2923			GOTO	L_main_2
$0128	$	L_main_3:
;PWM1.c,41 :: 		i = Usart_Read();
$0128	$20FA			CALL	_Usart_Read
$0129	$0870			MOVF	STACK_0, 0
$012A	$00A0			MOVWF	main_i_L0
$012B	$01A1			CLRF	main_i_L0+1
;PWM1.c,42 :: 		while (Usart_Data_Ready()==0) {}
$012C	$	L_main_4:
$012C	$20F1			CALL	_Usart_Data_Ready
$012D	$0870			MOVF	STACK_0, 0
$012E	$3A00			XORLW	0
$012F	$1903			BTFSC	STATUS, Z
$0130	$292C			GOTO	L_main_4
$0131	$	L_main_5:
;PWM1.c,43 :: 		j = Usart_Read();
$0131	$20FA			CALL	_Usart_Read
$0132	$0870			MOVF	STACK_0, 0
$0133	$00A2			MOVWF	main_j_L0
$0134	$01A3			CLRF	main_j_L0+1
;PWM1.c,44 :: 		PWM1_Change_Duty(i);
$0135	$0820			MOVF	main_i_L0, 0
$0136	$00A4			MOVWF	FARG_PWM1_Change_Duty+0
$0137	$2077			CALL	_PWM1_Change_Duty
;PWM1.c,45 :: 		PWM2_Change_Duty(j);
$0138	$0822			MOVF	main_j_L0, 0
$0139	$00A4			MOVWF	FARG_PWM2_Change_Duty+0
$013A	$20B8			CALL	_PWM2_Change_Duty
;PWM1.c,56 :: 		}
$013B	$2923			GOTO	L_main_0
;PWM1.c,57 :: 		}
$013C	$293C			GOTO	$
